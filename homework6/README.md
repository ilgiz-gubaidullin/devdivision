####1. Общее количество запросов

`$ grep -c ".*" access.log`

-c (от слова count) выводит количество

####2. Общее количество запросов по типу, например: GET - 20, POST - 10

`$ less access.log | cut -d' ' -f6 | sort | uniq -c`

**less** - утилита для вывода содержимого файла  
**cut -d' ' -f6** - разбиваем строку на подстроки разделителем "пробел". Разделитель указывается флагом -d. Флагом -f указываем порядковый номер поля, которое будет отображаться в выводе. В данном случае «6» - тип запроса  
**sort** - сортировка строк по порядку. Команда сгруппирует одинаковые строки "рядом". Команда sort необходима для корректной работы следующей команды - uniq  
**uniq** - выведет только уникальные строки. Т.е. в результате будут только уникальные типы запросов. И их количество благодаря -c  

####3. Топ 10 самых частых запросов

`$ less access.log | cut -d'"' -f2 | sort | uniq -c | sort -n | tail -n 10`

**cut -d'"' -f2** - разбиваем строку на подстроки разделителем "кавычка". Туда как раз попадает исчерпывающая информация о запросе  
**sort**  - сортировка строк по порядку  
**uniq** - вывод только уникальных строк  
**sort -n** - отсортируем используя числовой режим сортировки (флаг -n)  
**tail -n 10** - выводим 10 строк из результата с наибольшим количеством вхождений  

####4. Топ 5 самых больших по размеру запросов, которые завершились клиентской (4ХХ) ошибкой

`$ awk -F" " '$9 ~ /^4/ ' access.log | sort -nrk10 | head -5 | cut -d' ' -f1,6,7,9,10`

**awk** - используем утилиту  
**-F" "** - используем разделитель по пробелам  
**$9 ~ /^4/** - поиск по 9-й колонке, где первый символ 4, используя регулярку  
**sort -nrk10** - сортируем по числовому значению, в реверсивном порядке, по 10 колонке(размер запроса)  
**head -5** - показывает пять строк  
**cut -d' ' -f1,6,7,9,10** - указываю какие поля показывать  

####5. Топ 5 пользователей по количеству запросов, которые завершились серверной (5ХХ) ошибкой

`$ awk -F" " '$9 ~ /^5/ ' access.log | cut -d' ' -f1 | sort | uniq -c | sort -n | tail -n 5`

**$9 ~ /^4/** - поиск по 9-й колонке, где первый символ 5, используя регулярку  
**cut -d' ' -f1** - разделяю по пробелам, выбираю первую часть, где написан ip адрес  
**sort**  — сортировка строк по порядку  
**uniq** — вывод только уникальных строк  
**sort -n** — отсортируем используя числовой режим сортировки (флаг -n)  
**tail -n 10** - выводим 10 строк из результата с наибольшим количеством вхождений  

####*Результаты поиска указаны в файле results.txt*